
include(CTest)
set(ROOT "${PROJECT_SOURCE_DIR}/..")
function(add_test_exec file)
    add_executable(${file} ${file}.c)
    target_include_directories(${file} PRIVATE "${CMAKE_CURRENT_LIST_DIR}/include")
    target_link_libraries(${name} source)
    #set_target_properties(${file} PROPERTIES
     #   RUNTIME_OUTPUT_DIRECTORY "${ROOT}/build/tests"
    #)
    #add_test(NAME ${file} COMMAND "${ROOT}/build/tests/${file}")
endfunction()

foreach(file IN ITEMS
    test_config
    )

    add_test_exec(${file})

endforeach()
